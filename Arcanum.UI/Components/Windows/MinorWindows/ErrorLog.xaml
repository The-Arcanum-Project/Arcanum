<styleClasses:BaseWindow x:Class = "Arcanum.UI.Components.Windows.MinorWindows.ErrorLog"
                         xmlns = "http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                         xmlns:x = "http://schemas.microsoft.com/winfx/2006/xaml"
                         xmlns:mc = "http://schemas.openxmlformats.org/markup-compatibility/2006"
                         xmlns:d = "http://schemas.microsoft.com/expression/blend/2008"
                         xmlns:styleClasses = "clr-namespace:Arcanum.UI.Components.StyleClasses"
                         xmlns:userControls = "clr-namespace:Arcanum.UI.Components.UserControls"
                         mc:Ignorable = "d"
                         Title = "ErrorLog"
                         Height = "600"
                         Width = "1200"
                         Background = "{StaticResource DefaultBackColorBrush}">

    <styleClasses:BaseWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source = "/Components/Styles/Specific/DataTemplate/DiagnosticTemplate.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </styleClasses:BaseWindow.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height = "30" />
            <RowDefinition Height = "*" />
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width = "*"
                              MinWidth = "300" />
            <ColumnDefinition Width = "7" /> <!-- Spacer for a splitter-->
            <ColumnDefinition Width = "300"
                              MinWidth = "200" />
        </Grid.ColumnDefinitions>

        <Grid Grid.Row = "0"
              Grid.ColumnSpan = "3">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width = "*" />
                <ColumnDefinition Width = "*" />
                <ColumnDefinition Width = "*" />
                <ColumnDefinition Width = "400" />
                <ColumnDefinition Width = "200" />
            </Grid.ColumnDefinitions>

            <CheckBox Grid.Column = "0"
                      x:Name = "ErrorCheckBox"
                      HorizontalAlignment = "Center"
                      Checked = "CheckBox_OnClick"
                      Unchecked = "CheckBoxUnCheck_OnClick">
                Error
            </CheckBox>
            <CheckBox Grid.Column = "1"
                      x:Name = "WarningCheckBox"
                      HorizontalAlignment = "Center"
                      Checked = "CheckBox_OnClick"
                      Unchecked = "CheckBoxUnCheck_OnClick">
                Warning
            </CheckBox>
            <CheckBox Grid.Column = "2"
                      x:Name = "InformationCheckBox"
                      HorizontalAlignment = "Center"
                      Checked = "CheckBox_OnClick"
                      Unchecked = "CheckBoxUnCheck_OnClick">
                Information
            </CheckBox>

            <userControls:SearchTextBox Grid.Column = "3"
                                        x:Name = "SearchTextBox"
                                        ShowTextUnderline = "True">

            </userControls:SearchTextBox>

            <ComboBox Grid.Column = "4"
                      x:Name = "FilterComboBox"
                      Margin = "4">
            </ComboBox>


        </Grid>


        <GridSplitter Grid.Row = "1"
                      Grid.Column = "1"
                      Width = "3"
                      Margin = "0, 4"
                      HorizontalAlignment = "Center"
                      VerticalAlignment = "Stretch"
                      ResizeBehavior = "PreviousAndNext">

        </GridSplitter>

        <!-- Second row -->

        <ListView Grid.Column = "0"
                  Grid.Row = "1"
                  x:Name = "ErrorLogListView"
                  SelectionChanged = "ErrorLogListView_OnSelectionChanged"
                  Margin = "4">
        </ListView>

        <Border Grid.Column = "2"
                Grid.Row = "1"
                Background = "{StaticResource LightBackColorBrush}"
                CornerRadius = "6"
                Margin = "4">
            <Grid Margin = "0">
                <Grid.RowDefinitions>
                    <RowDefinition Height = "40" />
                    <RowDefinition Height = "35*" />
                    <RowDefinition Height = "35*" />
                    <RowDefinition Height = "30*" />
                    <RowDefinition Height = "30" />
                </Grid.RowDefinitions>

                <Grid Grid.Row = "0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width = "40" />
                        <ColumnDefinition Width = "*" />
                    </Grid.ColumnDefinitions>

                    <Border Grid.Column = "0"
                            Grid.ColumnSpan = "2"
                            Opacity = "0.2"
                            Margin="2"
                            CornerRadius="15">
                        
                        <Border.Style>
                            <Style TargetType = "Border">
                                <Setter Property = "Background"
                                        Value = "{StaticResource DefaultBackColorBrush}" />
                                <Style.Triggers>
                                    <DataTrigger
                                        Binding = "{Binding SelectedSeverity, RelativeSource={RelativeSource AncestorType=styleClasses:BaseWindow}}"
                                        Value = "Error">
                                        <Setter Property = "Background"
                                                Value = "{StaticResource DimErrorRedColorBrush}" />
                                    </DataTrigger>
                                    <DataTrigger
                                        Binding = "{Binding SelectedSeverity, RelativeSource={RelativeSource AncestorType=styleClasses:BaseWindow}}"
                                        Value = "Warning">
                                        <Setter Property = "Background"
                                                Value = "{StaticResource DimWarningYellowColorBrush}" />
                                    </DataTrigger>
                                    <DataTrigger
                                        Binding = "{Binding SelectedSeverity, RelativeSource={RelativeSource AncestorType=styleClasses:BaseWindow}}"
                                        Value = "Information">
                                        <Setter Property = "Background"
                                                Value = "{StaticResource DimInformationBlueColorBrush}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Border.Style>
                    </Border>

                    <Image Grid.Column = "0"
                           Width = "35"
                           Height = "35"
                           Margin = "0,0,0,0"
                           VerticalAlignment = "Center"
                           HorizontalAlignment = "Center"
                           Stretch = "UniformToFill">

                        <Image.Style>
                            <Style TargetType = "Image">
                                <Setter Property = "Source"
                                        Value = "pack://application:,,,/Assets/Icons/16x16/InfoCircle16x16.png" />
                                <Style.Triggers>
                                    <DataTrigger
                                        Binding = "{Binding SelectedSeverity, RelativeSource={RelativeSource AncestorType=styleClasses:BaseWindow}}"
                                        Value = "Error">
                                        <Setter Property = "Source"
                                                Value = "pack://application:,,,/Assets/Icons/40x40/CloseCircle40x40.png" />
                                    </DataTrigger>
                                    <DataTrigger
                                        Binding = "{Binding SelectedSeverity, RelativeSource={RelativeSource AncestorType=styleClasses:BaseWindow}}"
                                        Value = "Warning">
                                        <Setter Property = "Source"
                                                Value = "pack://application:,,,/Assets/Icons/40x40/DangerCircle40x40.png" />
                                    </DataTrigger>
                                    <DataTrigger
                                        Binding = "{Binding SelectedSeverity, RelativeSource={RelativeSource AncestorType=styleClasses:BaseWindow}}"
                                        Value = "Information">
                                        <Setter Property = "Source"
                                                Value = "pack://application:,,,/Assets/Icons/40x40/InfoCircle40x40.png" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Image.Style>
                    </Image>

                    <TextBlock Grid.Column = "1"
                               Text = "{Binding ErrorName, RelativeSource={RelativeSource AncestorType=styleClasses:BaseWindow}}"
                               VerticalAlignment = "Center"
                               FontSize = "16"
                               Margin = "10,0,0,0" />
                </Grid>

                <styleClasses:CorneredTextBox Grid.Row = "1"
                                              Text = "{Binding ErrorMessage, RelativeSource={RelativeSource AncestorType=styleClasses:BaseWindow}}"
                                              VerticalAlignment = "Stretch"
                                              VerticalContentAlignment = "Top"
                                              FontSize = "12"
                                              Margin = "4, 2"
                                              TextWrapping = "Wrap"
                                              Background = "{StaticResource DefaultBackColorBrush}"
                                              CornerRadiusValue = "4"
                                              IsReadOnly = "True" />

                <styleClasses:CorneredTextBox Grid.Row = "2"
                                              Text = "{Binding ErrorDescription, RelativeSource={RelativeSource AncestorType=styleClasses:BaseWindow}}"
                                              VerticalAlignment = "Stretch"
                                              VerticalContentAlignment = "Top"
                                              FontSize = "12"
                                              Margin = "4, 2"
                                              TextWrapping = "Wrap"
                                              Background = "{StaticResource DefaultBackColorBrush}"
                                              CornerRadiusValue = "4"
                                              IsReadOnly = "True" />

                <styleClasses:CorneredTextBox Grid.Row = "3"
                                              Text = "{Binding ErrorResolution, RelativeSource={RelativeSource AncestorType=styleClasses:BaseWindow}}"
                                              VerticalAlignment = "Stretch"
                                              VerticalContentAlignment = "Top"
                                              FontSize = "14"
                                              Margin = "4, 2"
                                              TextWrapping = "Wrap"
                                              CornerRadiusValue = "4"
                                              IsReadOnly = "True" />

                <StackPanel Grid.Row = "4"
                            Margin = "4, 2"
                            HorizontalAlignment = "Right"
                            Orientation = "Horizontal">
                    <styleClasses:BaseButton Click = "ButtonBase_OnClick"
                                             ToolTip = "Open folder of selected faulty file"
                                             BorderBrush="{StaticResource DefaultBackColorBrush}">
                        <Image Source = "../../../Assets/Icons/20x20/FolderOpen20x20.png"
                               Width = "20"
                               Height = "20">
                        </Image>
                    </styleClasses:BaseButton>
                    <styleClasses:BaseButton Margin = "4, 0, 0, 0"
                                             Click = "OpenFileAtPos_OnClick"
                                             ToolTip = "Open file at error position"
                                             BorderBrush="{StaticResource DefaultBackColorBrush}">
                        <Image Source = "../../../Assets/Icons/20x20/File20x20.png"
                               Width = "20"
                               Height = "20">
                        </Image>
                    </styleClasses:BaseButton>
                </StackPanel>

            </Grid>
        </Border>
    </Grid>
</styleClasses:BaseWindow>