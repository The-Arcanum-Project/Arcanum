<UserControl x:Class = "Arcanum.UI.Components.UserControls.BaseControls.BaseNumericUpDown"
             xmlns = "http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x = "http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc = "http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d = "http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable = "d"
             d:DesignHeight = "20"
             d:DesignWidth = "50">

    <UserControl.Resources>
        <ResourceDictionary>
            <Style TargetType = "TextBox"
                   BasedOn = "{x:Null}">
                <Setter Property = "Background"
                        Value = "{Binding Background, RelativeSource={RelativeSource AncestorType=UserControl}}" />
                <Setter Property = "BorderThickness"
                        Value = "0" />
            </Style>

            <Style TargetType = "RepeatButton"
                   BasedOn = "{x:Null}">
                <Setter Property = "Background"
                        Value = "{Binding Background, RelativeSource={RelativeSource AncestorType=UserControl}}" />
                <Setter Property = "BorderThickness"
                        Value = "0" />
            </Style>

            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source = "/Arcanum_UI;component/Assets/ArcanumShared/DefaultPalette.xaml" />
                <ResourceDictionary Source = "/Arcanum_UI;component/Assets/ArcanumShared/DefaultFonts.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>

    <Border
        BorderThickness = "{Binding InnerBorderThickness, RelativeSource={RelativeSource AncestorType=UserControl}}"
        BorderBrush = "{Binding InnerBorderBrush, RelativeSource={RelativeSource AncestorType=UserControl}}"
        CornerRadius = "2"
        Background = "Transparent">
        <Grid Background = "Transparent">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width = "*" />
                <ColumnDefinition Width = "3" />
                <ColumnDefinition Width = "13" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height = "10" />
                <RowDefinition Height = "10" />
            </Grid.RowDefinitions>
            <TextBox Name = "NudTextBox"
                     Grid.Column = "0"
                     Grid.Row = "0"
                     Grid.RowSpan = "2"
                     TextAlignment = "Left"
                     TextChanged = "NUDTextBox_TextChanged"
                     MouseWheel = "NudTextBox_MouseWheel"
                     PreviewTextInput = "NudTextBox_PreviewTextInput"
                     GotKeyboardFocus = "NudTextBox_GotKeyboardFocus"
                     Foreground = "{StaticResource DefaultForeColorBrush}"
                     FontFamily = "{Binding FontFamily, RelativeSource={RelativeSource AncestorType=UserControl}}"
                     FontSize = "{StaticResource DefaultFontSize}"
                     FontWeight = "{StaticResource DefaultFontWeight}"
                     CaretBrush = "{StaticResource DefaultForeColorBrush}"
                     VerticalContentAlignment = "Center"
                     Background = "Transparent"
                     BorderThickness = "0"
                     VerticalAlignment = "Stretch"
                     HorizontalAlignment = "Stretch"
                     VerticalScrollBarVisibility = "Disabled"
                     TextWrapping = "NoWrap"
                     Margin = "1"
                     Padding = "0">
            </TextBox>

            <Rectangle Grid.Column = "1"
                       Grid.Row = "0"
                       Grid.RowSpan = "2"
                       Width = "1"
                       Fill = "{StaticResource LightBackColorBrush}"
                       Margin = "1, 3"
                       HorizontalAlignment = "Stretch"
                       VerticalAlignment = "Stretch" />

            <RepeatButton Name = "NudButtonUp"
                          Grid.Column = "2"
                          Grid.Row = "0"
                          BorderThickness = "0"
                          Background = "Transparent"
                          Padding = "0"
                          Margin = "0, 2, 0, 0"
                          HorizontalAlignment = "Stretch"
                          VerticalAlignment = "Stretch"
                          Click = "NUDButtonUP_Click">
                <RepeatButton.Style>
                    <Style TargetType = "RepeatButton">
                        <Setter Property = "Background"
                                Value = "Transparent" />
                        <Setter Property = "Template">
                            <Setter.Value>
                                <ControlTemplate TargetType = "RepeatButton">
                                    <Border x:Name = "border"
                                            Background = "{TemplateBinding Background}"
                                            CornerRadius = "2">
                                        <ContentPresenter HorizontalAlignment = "Center"
                                                          VerticalAlignment = "Center" />
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property = "IsMouseOver"
                                                 Value = "True">
                                            <Setter TargetName = "border"
                                                    Property = "Background"
                                                    Value = "{StaticResource LightBackColorBrush}" />
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </RepeatButton.Style>

                <Image Source = "/Arcanum_UI;component/Assets/Icons/Tiny/ArrowUp.png" />
            </RepeatButton>
            <RepeatButton Name = "NudButtonDown"
                          Grid.Column = "2"
                          Grid.Row = "1"
                          BorderThickness = "0"
                          Background = "Transparent"
                          Padding = "0"
                          Margin = "0, 0, 0, 2"
                          HorizontalAlignment = "Stretch"
                          VerticalAlignment = "Stretch"
                          Click = "NUDButtonDown_Click">

                <RepeatButton.Style>
                    <Style TargetType = "RepeatButton">
                        <Setter Property = "Background"
                                Value = "Transparent" />
                        <Setter Property = "Template">
                            <Setter.Value>
                                <ControlTemplate TargetType = "RepeatButton">
                                    <Border x:Name = "border"
                                            Background = "{TemplateBinding Background}"
                                            CornerRadius = "2">
                                        <ContentPresenter HorizontalAlignment = "Center"
                                                          VerticalAlignment = "Center" />
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property = "IsMouseOver"
                                                 Value = "True">
                                            <Setter TargetName = "border"
                                                    Property = "Background"
                                                    Value = "{StaticResource LightBackColorBrush}" />
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </RepeatButton.Style>

                <Image Source = "/Arcanum_UI;component/Assets/Icons/Tiny/ArrowDown.png" />
            </RepeatButton>
        </Grid>
    </Border>

</UserControl>