<UserControl x:Class = "Arcanum.UI.Components.UserControls.BaseControls.DualListSelector"
             xmlns = "http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x = "http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc = "http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d = "http://schemas.microsoft.com/expression/blend/2008"
             xmlns:converters = "clr-namespace:Arcanum.UI.Components.Converters"
             xmlns:styleClasses = "clr-namespace:Arcanum.UI.Components.StyleClasses"
             mc:Ignorable = "d"
             d:DesignHeight = "300"
             d:DesignWidth = "300">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source = "/Arcanum_UI;component/Assets/ArcanumShared/DefaultPalette.xaml" />
                <ResourceDictionary Source = "/Arcanum_UI;component/Assets/ArcanumShared/DefaultFonts.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <converters:DisplayStringConverter x:Key = "DisplayConverter" />
        </ResourceDictionary>
    </UserControl.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width = "*" />
            <ColumnDefinition Width = "Auto" />
            <ColumnDefinition Width = "*" />
        </Grid.ColumnDefinitions>

        <!-- Left ListView: Selected Items -->
        <Grid Grid.Column = "0"
              Margin = "2, 2, 0, 2">
            <Grid.RowDefinitions>
                <RowDefinition Height = "Auto" />
                <RowDefinition Height = "Auto" />
                <RowDefinition Height = "*" />
            </Grid.RowDefinitions>

            <Label Grid.Row = "0"
                   ContentStringFormat = "Selected ({0})"
                   FontWeight = "Bold"
                   FontSize = "14"
                   HorizontalAlignment = "Center"
                   VerticalAlignment = "Center"
                   Margin = "2,0"
                   FontFamily = "{StaticResource DefaultFont}"
                   Foreground = "{StaticResource DefaultForeColorBrush}">
                <Label.Content>
                    <Binding Path = "SelectedItems.Count"
                             RelativeSource = "{RelativeSource AncestorType=UserControl}" />
                </Label.Content>
            </Label>

            <styleClasses:CorneredTextBox x:Name = "SelectedSearchBox"
                                          Grid.Row = "1"
                                          TextChanged = "SearchBox_TextChanged"
                                          Tag = "Selected"
                                          ToolTip = "Search Selected Items" />
            <ListView x:Name = "SelectedListView"
                      Grid.Row = "2"
                      SelectionMode = "Extended">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text = "{Binding Converter={StaticResource DisplayConverter}}" />
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </Grid>

        <!-- Middle Buttons -->
        <StackPanel Grid.Column = "1"
                    VerticalAlignment = "Top"
                    Margin = "2, 53, 2, 0">
            <styleClasses:BaseButton x:Name = "MoveToAvailableButton"
                                     Margin = "1, 2, 1, 2"
                                     ToolTip = "Remove selected item(s)"
                                     Width = "30"
                                     Height = "30"
                                     BorderThickness = "1">
                <Image Source = "/Arcanum_UI;component/Assets/Icons/20x20/ArrowRight20x20.png" />
            </styleClasses:BaseButton>
            <styleClasses:BaseButton x:Name = "MoveToSelectedButton"
                                     Margin = "1, 2"
                                     ToolTip = "Add selected item(s)"
                                     Width = "30"
                                     Height = "30"
                                     BorderThickness = "1">
                <Image Source = "/Arcanum_UI;component/Assets/Icons/20x20/ArrowLeft20x20.png" />
            </styleClasses:BaseButton>
            <styleClasses:BaseButton x:Name = "MoveUpButton"
                                     Margin = "1, 2"
                                     ToolTip = "Move item up"
                                     Width = "30"
                                     Height = "30"
                                     BorderThickness = "1">
                <Image Source = "/Arcanum_UI;component/Assets/Icons/20x20/ArrowUp20x20.png" />
            </styleClasses:BaseButton>
            <styleClasses:BaseButton x:Name = "MoveDownButton"
                                     Margin = "1, 2"
                                     ToolTip = "Move item down"
                                     Width = "30"
                                     Height = "30"
                                     BorderThickness = "1">
                <Image Source = "/Arcanum_UI;component/Assets/Icons/20x20/ArrowDown20x20.png" />
            </styleClasses:BaseButton>
        </StackPanel>

        <!-- Right ListView: Available Items -->
        <Grid Grid.Column = "2"
              Margin = "0, 2, 2, 2">
            <Grid.RowDefinitions>
                <RowDefinition Height = "Auto" />
                <RowDefinition Height = "Auto" />
                <RowDefinition Height = "*" />
            </Grid.RowDefinitions>

            <Label Grid.Row = "0"
                   ContentStringFormat = "Available ({0})"
                   FontWeight = "Bold"
                   FontSize = "14"
                   HorizontalAlignment = "Center"
                   VerticalAlignment = "Center"
                   Margin = "2,0"
                   FontFamily = "{StaticResource DefaultFont}"
                   Foreground = "{StaticResource DefaultForeColorBrush}">
                <Label.Content>
                    <Binding Path = "AvailableItems.Count"
                             RelativeSource = "{RelativeSource AncestorType=UserControl}" />
                </Label.Content>
            </Label>

            <styleClasses:CorneredTextBox x:Name = "AvailableSearchBox"
                                          Grid.Row = "1"
                                          TextChanged = "SearchBox_TextChanged"
                                          Tag = "Available"
                                          ToolTip = "Search Available Items" />
            <ListView x:Name = "AvailableListView"
                      Grid.Row = "2"
                      SelectionMode = "Extended">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text = "{Binding Converter={StaticResource DisplayConverter}}" />
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </Grid>
    </Grid>
</UserControl>