<UserControl x:Class = "Arcanum.UI.Components.UserControls.SearchTextBox"
             xmlns = "http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x = "http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:styleClasses = "clr-namespace:Arcanum.UI.Components.StyleClasses"
             xmlns:converters = "clr-namespace:Arcanum.UI.Components.Converters"
             xmlns:d = "http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc = "http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable = "d">

    <UserControl.Resources>
        <ResourceDictionary>
            <converters:BoolToVisibilityConverter x:Key = "BoolToVisibilityConverter" />
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source = "/Arcanum_UI;component/Assets/ArcanumShared/DefaultPalette.xaml" />
                <ResourceDictionary Source = "/Arcanum_UI;component/Assets/ArcanumShared/DefaultFonts.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>


    <Border Padding = "5, 0,0,0"
            CornerRadius = "0"
            Background = "{StaticResource DefaultBackColorBrush}"
            BorderBrush = "{StaticResource DefaultBorderColorBrush}"
            BorderThickness = "0"
            Margin = "1">
        <DockPanel LastChildFill = "True">

            <!-- Left Icon -->
            <Image Source = "/Arcanum_UI;component/Assets/Icons/16x16/Magnifer16x16.png"
                   Width = "16"
                   Height = "16"
                   Margin = "4,0"
                   VerticalAlignment = "Center"
                   DockPanel.Dock = "Left" />

            <!-- Right Button -->
            <styleClasses:BaseButton Width = "20"
                                     Height = "20"
                                     Margin = "1,1, 5, 0"
                                     Padding = "0"
                                     VerticalAlignment = "Center"
                                     HorizontalAlignment = "Center"
                                     Background = "Transparent"
                                     DockPanel.Dock = "Right"
                                     Click = "ButtonBase_OnClick"
                                     BorderThickness = "0">
                <Image Source = "/Arcanum_UI;component/Assets/Icons/20x20/Settings20x20.png"
                       Stretch = "None" />
            </styleClasses:BaseButton>

            <!-- Text Input -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width = "*" />
                </Grid.ColumnDefinitions>

                <Border Background = "Transparent"
                        Margin = "3,0,3,2"
                        BorderThickness = "0, 0, 0, 1"
                        BorderBrush = "{StaticResource DefaultBorderColorBrush}"
                        Visibility = "{Binding ShowTextUnderline, Converter={StaticResource BoolToVisibilityConverter}, RelativeSource={RelativeSource AncestorType=UserControl}}">

                </Border>

                <TextBox x:Name = "SearchInputTextBox"
                         BorderThickness = "0"
                         Background = "Transparent"
                         VerticalAlignment = "Center"
                         Margin = "4,0"
                         MinWidth = "100"
                         Foreground = "{StaticResource DefaultForeColorBrush}"
                         CaretBrush = "{StaticResource DefaultForeColorBrush}"
                         TextChanged = "SearchInputTextBox_OnTextChanged" />


            </Grid>
        </DockPanel>
    </Border>

</UserControl>