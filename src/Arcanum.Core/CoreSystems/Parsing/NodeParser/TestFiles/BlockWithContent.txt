allow = {
    market = { in_trade_range_of = scope:actor }
    scope:actor = {
        total_effective_building_levels:trade_company_garrison < {
            if = {
                limit = {
                    scope:actor = {
                        is_subject = yes
                        overlord.modifier:number_of_satellite_trade_buildings > modifier:number_of_satellite_trade_buildings
                    }
                }
                value = scope:actor.overlord.modifier:number_of_satellite_trade_buildings
            }
            else = {
                value = scope:actor.modifier:number_of_satellite_trade_buildings
            }
        }
    }
}