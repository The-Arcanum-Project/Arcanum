<UserControl x:Class = "Arcanum.UI.Components.Views.MainMenuScreen.ArcanumViewModel"
             x:Name = "ArcanumViewModelRoot"
             xmlns = "http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x = "http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc = "http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d = "http://schemas.microsoft.com/expression/blend/2008"
             xmlns:b = "http://schemas.microsoft.com/xaml/behaviors"
             xmlns:behaviors = "clr-namespace:Arcanum.UI.Components.Behaviors"
             xmlns:mainMenuScreen = "clr-namespace:Arcanum.UI.Components.Views.MainMenuScreen"
             xmlns:styleClasses = "clr-namespace:Arcanum.UI.Components.StyleClasses"
             xmlns:baseControls="clr-namespace:Arcanum.UI.Components.UserControls.BaseControls"
             mc:Ignorable = "d"
             Background = "Transparent"
             d:DesignHeight = "450"
             d:DesignWidth = "800">

    <UserControl.Resources>
        <ResourceDictionary>
            <!-- Local resources go here -->
            <mainMenuScreen:ZeroToVisibilityConverter x:Key = "ZeroToVisibilityConverter" />

            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source = "/Arcanum_UI;component/Components/Styles/Base/BaseModBoxItem.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>


    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height = "34" />
            <RowDefinition Height = "34" />
            <RowDefinition Height = "180" />
            <RowDefinition Height = "1*" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width = "34" />
            <ColumnDefinition Width = "1*" />
            <ColumnDefinition Width = "34" />
        </Grid.ColumnDefinitions>

        <!-- First Row -->
        <styleClasses:BaseButton Grid.Column = "0"
                                 Grid.Row = "0"
                                 Margin = "3"
                                 x:Name = "VanillaFolderButton"
                                 BorderThickness = "1"
                                 Click = "VanillaFolderButton_Click">
            <Image Source = "/Arcanum_UI;component/Assets/Icons/20x20/Folder20x20.png"
                   Stretch = "None" />
        </styleClasses:BaseButton>

        <baseControls:TextboxWithPlaceholder Grid.Column="1" 
                                             Grid.Row="0"
                                             Margin="3"
                                             FontSize="14"
                                             x:Name="VanillaFolderTextBox"
                                             PlaceholderText="Select the EU5 vanilla folder">
        </baseControls:TextboxWithPlaceholder>

        <Border Grid.Column = "2"
                Grid.Row = "0"
                CornerRadius = "3"
                BorderThickness = "1"
                BorderBrush = "{DynamicResource DefaultBorderColorBrush}"
                Margin = "3"
                ClipToBounds = "True">

            <Image Source = "/Arcanum_UI;component/Assets/Icons/20x20/Box20x20.png"
                   Stretch = "None"
                   ToolTip = "Vanilla Game Folder: ../Europa Universalis V/game">

                <Image.Clip>
                    <RectangleGeometry RadiusX = "3"
                                       RadiusY = "3"
                                       Rect = "0,0,26,26" />
                </Image.Clip>
            </Image>

        </Border>

        <!-- Second Row -->
        <styleClasses:BaseButton Grid.Column = "0"
                                 Grid.Row = "1"
                                 Margin = "3"
                                 x:Name = "ModFolderButton"
                                 BorderThickness = "1"
                                 Click = "ModFolderButton_Click">
            <Image Source = "/Arcanum_UI;component/Assets/Icons/20x20/Folder20x20.png"
                   Stretch = "None" />
        </styleClasses:BaseButton>

        <baseControls:TextboxWithPlaceholder Grid.Column="1" 
                                             Grid.Row="1"
                                             Margin="3"
                                             FontSize="14"
                                             x:Name="ModFolderTextBox"
                                             PlaceholderText="Select mod folder">
        </baseControls:TextboxWithPlaceholder>

        <Border Grid.Column = "2"
                Grid.Row = "1"
                CornerRadius = "3"
                BorderThickness = "1"
                BorderBrush = "{DynamicResource DefaultBorderColorBrush}"
                Margin = "3"
                ClipToBounds = "True">

            <Image Source = "/Arcanum_UI;component/Assets/Icons/20x20/ModAdd20x20.png"
                   Stretch = "None"
                   ToolTip = "The folder of the mod you want to edit">

                <Image.Clip>
                    <RectangleGeometry RadiusX = "3"
                                       RadiusY = "3"
                                       Rect = "0,0,26,26" />
                </Image.Clip>
            </Image>

        </Border>

        <Border Grid.Column = "0"
                Grid.Row = "2"
                Grid.ColumnSpan = "3">

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width = "*" />
                    <ColumnDefinition Width = "34" />
                </Grid.ColumnDefinitions>

                <Grid.RowDefinitions>
                    <RowDefinition Height = "34" />
                    <RowDefinition Height = "3" />
                    <RowDefinition Height = "*" />
                    <RowDefinition Height = "1" />
                </Grid.RowDefinitions>

                <TextBlock Grid.Column = "0"
                           Grid.Row = "0"
                           Text = "Base Mods:"
                           FontSize = "18"
                           Margin = "7,0,0,0"
                           VerticalAlignment = "Center"
                           HorizontalAlignment = "Left" />

                <styleClasses:BaseButton Grid.Column = "1"
                                         Grid.Row = "0"
                                         CornerRadius = "3"
                                         BorderThickness = "1"
                                         HorizontalAlignment = "Right"
                                         Margin = "3"
                                         Width = "28"
                                         Background = "{StaticResource GreenColorBrush}"
                                         Click = "AddBaseModButton_Click"
                                         ToolTip = "Add a new base mod declaration">
                    <Image Source = "/Arcanum_UI;component/Assets/Icons/20x20/AddFolder20x20.png"
                           Stretch = "None" />
                </styleClasses:BaseButton>

                <Rectangle Grid.Column = "0"
                           Grid.Row = "1"
                           Grid.ColumnSpan = "2"
                           Margin = "5, 2, 5, 0"
                           Fill = "{DynamicResource DefaultBorderColorBrush}"
                           Height = "1"
                           HorizontalAlignment = "Stretch">
                </Rectangle>

                <Grid Grid.Column = "0"
                      Grid.Row = "2"
                      Grid.ColumnSpan = "2">

                    <ListBox Margin = "3"
                             x:Name = "BaseModsListBox"
                             ScrollViewer.HorizontalScrollBarVisibility = "Disabled"
                             ItemsSource = "{Binding BaseMods, RelativeSource={RelativeSource AncestorType=UserControl}}"
                             ItemTemplate = "{StaticResource BaseModDataTemplate}"
                             ItemContainerStyle = "{StaticResource BaseModItemStyle}"
                             BorderThickness = "0">
                        <b:Interaction.Behaviors>
                            <behaviors:ListBoxDragDropBehavior
                                DragHandleExclusionType = "{x:Type styleClasses:BaseButton}"
                                ScrollAreaHeight = "10" />
                        </b:Interaction.Behaviors>

                    </ListBox>

                    <TextBlock Text = "No base mods set"
                               HorizontalAlignment = "Center"
                               VerticalAlignment = "Center"
                               Foreground = "Gray"
                               FontSize = "20"
                               Visibility = "{Binding BaseMods.Count, ElementName=ArcanumViewModelRoot, Converter={StaticResource ZeroToVisibilityConverter}}" />
                </Grid>


                <Rectangle Grid.Column = "0"
                           Grid.Row = "3"
                           Grid.ColumnSpan = "2"
                           Margin = "5, 0"
                           Fill = "{DynamicResource DefaultBorderColorBrush}"
                           Height = "1"
                           HorizontalAlignment = "Stretch">
                </Rectangle>

            </Grid>

        </Border>

        <!-- Fourth Row -->

        <Grid Grid.Row = "3"
              Grid.Column = "0"
              Grid.ColumnSpan = "3">

            <Grid.RowDefinitions>
                <RowDefinition Height = "34" />
                <RowDefinition Height = "*" />
            </Grid.RowDefinitions>


            <TextBlock Grid.Column = "0"
                       Grid.Row = "0"
                       Text = "Recent Projects:"
                       FontSize = "18"
                       Margin = "7,0,0,0"
                       VerticalAlignment = "Center"
                       HorizontalAlignment = "Left" />

            <StackPanel Orientation = "Horizontal"
                        Grid.Column = "0"
                        Grid.Row = "1"
                        x:Name = "RecentProjectsPanel">
            </StackPanel>
        </Grid>
    </Grid>
</UserControl>